<!DOCTYPE html>
<html>
<header>
    <meta charset="utf-8">
    <title>Google Sheets to Chart.js</title>

    <!-- Chart js bundle min -->
    <script src="https://www.chartjs.org/dist/2.9.4/Chart.min.js"></script>
    <script src="https://www.chartjs.org/samples/latest/utils.js"></script>

    <!-- Jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>

    <!-- Open Sans Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
</header>

<body>
    <div style="height:50vh">
        <canvas id="myChart"></canvas>
    </div>


    <script> 
        $.getJSON("https://spreadsheets.google.com/feeds/list/1nXewUdMlnsuKIGhVxP-Pk36aJwXFbS14jTc7mocK2FU/2/public/values?alt=json", data => {
            
            var labels = [];
            var dataOne = [];
            var dataTwo = [];
            
            data.feed.entry.forEach((e) => {
                labels.push(e['gsx$date']['$t']);
                dataOne.push(Number(e['gsx$gdpyoy']['$t']));
                dataTwo.push(Number(e['gsx$unemploymentyoy']['$t']))
            });

            Chart.defaults.global.defaultFontFamily = "Open Sans";

            new Chart(document.getElementById('myChart'),
            {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'GDP (YoY)',
                        //For Bar Chart
                        //backgroundColor: "rgba(0, 175, 181, 1)",
                        borderColor: "rgba(0, 175, 181, 1)",
                        data: dataOne,
                        fill: false,
                        yAxisID: 'y-axis-1',
                    },
                    {
                        label: 'Unemployment (YoY)',
                        //For Bar Chart
                        //backgroundColor: "rgba(0, 175, 181, 1)",
                        borderColor: "rgba(180, 0, 181, 1)",
                        data: dataTwo,
                        fill: false,
                        yAxisID: 'y-axis-2',
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    title: {
                        display: false,
                    },
                    tooltips: {
                        mode: 'index',
                        intersect: false,
                    },
                    hover: {
                        mode: 'nearest',
                        intersect: true
                    },
                    scales: {
                        xAxes: [{
                            display: true,
                            scaleLabel: {
                                display: true,
                                labelString: 'DATE'
                            },
                            gridLines: {
                                borderDash: [2, 2]
                            },
                            ticks: {
                                // autoSkip: true,
                                // maxTicksLimit: 10,
                                //maxRotation: 0
                            }
                        }],
                        yAxes: [{
                            display: true,
                            position: 'left',
                            id: 'y-axis-1',
                            scaleLabel: {
                                display: true,
                                labelString: 'GDP (% YoY)'
                            },
                            gridLines: {
                                borderDash: [2, 2]
                            }
                        },
                        {
                            display: true,
                            position: 'right',
                            id: 'y-axis-2',
                            scaleLabel: {
                                display: true,
                                labelString: 'Unemployment (% YoY)'
                            },
                            gridLines: {
                                display: false,
                                borderDash: [2, 2]
                            }
                        }]
                    },
                    elements: {
                        point:{
                            radius: 0
                        },
                    },
                    legend: {
                        display:false
                    }
                }
            });
        });
    </script>
</body>
</html>